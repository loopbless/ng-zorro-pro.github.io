(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{rCdd:function(t,e,i){"use strict";i.r(e),i.d(e,"EditorModule",(function(){return oe}));var n=i("ofXK"),s=i("tyNb"),o=(i("xgIS"),i("LRne"),i("eIep")),r=i("lJxs"),a=i("1G5W");i("pLZG");var c=i("fXoL"),h=i("vxfF"),l=i("nLfN"),d=i("8LU1"),g=i("XNiG"),p=i("quSY"),u=i("HDdC"),f=i("D0XW"),_=i("Y7HM");function b(t){const{subscriber:e,counter:i,period:n}=t;e.next(i),this.schedule({subscriber:e,counter:i+1,period:n},n)}var m=i("eNwd"),D=i("VRyK"),y=i("JX91"),x=i("IzEk"),v=i("vkgz"),w=i("cH1L");function z(t,e){for(let i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function S(t,e){const i=e?"":"none";z(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:i,msUserSelect:i,webkitUserSelect:i,MozUserSelect:i})}function P(t){const e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function E(t,e){return t.getPropertyValue(e).split(",").map(t=>t.trim())}function k(t){const e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function C(t,e,i){const{top:n,bottom:s,left:o,right:r}=t;return i>=n&&i<=s&&e>=o&&e<=r}function R(t,e,i){t.top+=e,t.bottom=t.top+t.height,t.left+=i,t.right=t.left+t.width}function I(t,e,i,n){const{top:s,right:o,bottom:r,left:a,width:c,height:h}=t,l=c*e,d=h*e;return n>s-d&&n<r+d&&i>a-l&&i<o+l}const O=Object(l.e)({passive:!0}),G=Object(l.e)({passive:!1});class M{constructor(t,e,i,n,s,o){this._config=e,this._document=i,this._ngZone=n,this._viewportRuler=s,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new g.a,this._pointerMoveSubscription=p.a.EMPTY,this._pointerUpSubscription=p.a.EMPTY,this._scrollSubscription=p.a.EMPTY,this._resizeSubscription=p.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new g.a,this.started=new g.a,this.released=new g.a,this.ended=new g.a,this.entered=new g.a,this.exited=new g.a,this.dropped=new g.a,this.moved=this._moveEvents.asObservable(),this._pointerDown=t=>{if(this.beforeStarted.next(),this._handles.length){const e=this._handles.find(e=>{const i=t.target;return!!i&&(i===e||e.contains(i))});!e||this._disabledHandles.has(e)||this.disabled||this._initializeDragSequence(e,t)}else this.disabled||this._initializeDragSequence(this._rootElement,t)},this._pointerMove=t=>{t.preventDefault();const e=this._getPointerPositionOnPage(t);if(!this._hasStartedDragging){if(Math.abs(e.x-this._pickupPositionOnPage.x)+Math.abs(e.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){if(!(Date.now()>=this._dragStartTime+this._getDragStartDelay(t)))return void this._endDragSequence(t);this._dropContainer&&this._dropContainer.isDragging()||(this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(t)))}return}this._boundaryElement&&(this._previewRect&&(this._previewRect.width||this._previewRect.height)||(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()));const i=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._updatePointerDirectionDelta(i),this._dropContainer)this._updateActiveDropContainer(i);else{const t=this._activeTransform;t.x=i.x-this._pickupPositionOnPage.x+this._passiveTransform.x,t.y=i.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(t.x,t.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${t.x} ${t.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:i,event:t,distance:this._getDragDistance(i),delta:this._pointerDirectionDelta})})},this._pointerUp=t=>{this._endDragSequence(t)},this.withRootElement(t),o.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=Object(d.c)(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions())}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){return this._handles=t.map(t=>Object(d.e)(t)),this._handles.forEach(t=>S(t,!1)),this._toggleNativeDragInteractions(),this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=Object(d.e)(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,G),e.addEventListener("touchstart",this._pointerDown,O)}),this._initialTransform=void 0,this._rootElement=e),this}withBoundaryElement(t){return this._boundaryElement=t?Object(d.e)(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&$(this._rootElement),$(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._boundaryElement=this._rootElement=this._placeholderTemplate=this._previewTemplate=this._anchor=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){this._handles.indexOf(t)>-1&&this._disabledHandles.add(t)}enableHandle(t){this._disabledHandles.delete(t)}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}_sortFromLastPointerPosition(){const t=this._pointerPositionAtLastDirectionChange;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t))}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&$(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&$(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)})):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(this._getPointerPositionOnPage(t))})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}_startDragSequence(t){if(this.started.next({source:this}),A(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions(),this._dropContainer){const t=this._rootElement,i=t.parentNode,n=this._preview=this._createPreviewElement(),s=this._placeholder=this._createPlaceholderElement(),o=this._anchor=this._anchor||this._document.createComment("");i.insertBefore(o,t),t.style.display="none",this._document.body.appendChild(i.replaceChild(s,t)),(e=this._document,e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement||e.body).appendChild(n),this._dropContainer.start(),this._initialContainer=this._dropContainer,this._initialIndex=this._dropContainer.getItemIndex(this)}else this._initialContainer=this._initialIndex=void 0;var e}_initializeDragSequence(t,e){e.stopPropagation();const i=this.isDragging(),n=A(e),s=!n&&0!==e.button,o=this._rootElement,r=!n&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(e.target&&e.target.draggable&&"mousedown"===e.type&&e.preventDefault(),i||s||r)return;this._handles.length&&(this._rootElementTapHighlight=o.style.webkitTapHighlightColor,o.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.pipe(Object(y.a)(null)).subscribe(()=>{this._updateOnScroll()}),this._boundaryElement&&(this._boundaryRect=k(this._boundaryElement));const a=this._previewTemplate;this._pickupPositionInElement=a&&a.template&&!a.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const c=this._pickupPositionOnPage=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:c.x,y:c.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){this._rootElement.style.display="",this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),n=this._getPointerPositionOnPage(t),s=this._getDragDistance(this._getPointerPositionOnPage(t)),o=e._isOverContainer(n.x,n.y);this.ended.next({source:this,distance:s}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:s}),e.drop(this,i,this._initialContainer,o,s,this._initialIndex),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e}){let i=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!i&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(i=this._initialContainer),i&&i!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=i,this._dropContainer.enter(this,t,e,i===this._initialContainer&&i.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:i,currentIndex:i.getItemIndex(this)})}),this._dropContainer._startScrollingIfNecessary(t,e),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._preview.style.transform=L(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y)}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,i=t?t.template:null;let n;if(i){const e=t.viewContainer.createEmbeddedView(i,t.context);e.detectChanges(),n=B(e,this._document),this._previewRef=e,t.matchSize?F(n,this._rootElement):n.style.transform=L(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const t=this._rootElement;n=T(t),F(n,t)}return z(n.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:`${this._config.zIndex||1e3}`}),S(n,!1),n.classList.add("cdk-drag-preview"),n.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(t=>n.classList.add(t)):n.classList.add(e)),n}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=L(t.left,t.top);const e=function(t){const e=getComputedStyle(t),i=E(e,"transition-property"),n=i.find(t=>"transform"===t||"all"===t);if(!n)return 0;const s=i.indexOf(n),o=E(e,"transition-duration"),r=E(e,"transition-delay");return P(o[s])+P(r[s])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{const i=e=>{(!e||e.target===this._preview&&"transform"===e.propertyName)&&(this._preview.removeEventListener("transitionend",i),t(),clearTimeout(n))},n=setTimeout(i,1.5*e);this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=B(this._placeholderRef,this._document)):i=T(this._rootElement),i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(t,e){const i=this._rootElement.getBoundingClientRect(),n=t===this._rootElement?null:t,s=n?n.getBoundingClientRect():i,o=A(e)?e.targetTouches[0]:e;return{x:s.left-i.left+(o.pageX-s.left-this._scrollPosition.left),y:s.top-i.top+(o.pageY-s.top-this._scrollPosition.top)}}_getPointerPositionOnPage(t){const e=A(t)?t.touches[0]||t.changedTouches[0]:t;return{x:e.pageX-this._scrollPosition.left,y:e.pageY-this._scrollPosition.top}}_getConstrainedPointerPosition(t){const e=this.constrainPosition?this.constrainPosition(t,this):t,i=this._dropContainer?this._dropContainer.lockAxis:null;if("x"===this.lockAxis||"x"===i?e.y=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==i||(e.x=this._pickupPositionOnPage.x),this._boundaryRect){const{x:t,y:i}=this._pickupPositionInElement,n=this._boundaryRect,s=this._previewRect,o=n.top+i,r=n.bottom-(s.height-i);e.x=j(e.x,n.left+t,n.right-(s.width-t)),e.y=j(e.y,o,r)}return e}_updatePointerDirectionDelta(t){const{x:e,y:i}=t,n=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,o=Math.abs(e-s.x),r=Math.abs(i-s.y);return o>this._config.pointerDirectionChangeThreshold&&(n.x=e>s.x?1:-1,s.x=e),r>this._config.pointerDirectionChangeThreshold&&(n.y=i>s.y?1:-1,s.y=i),n}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,S(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,G),t.removeEventListener("touchstart",this._pointerDown,O)}_applyRootElementTransform(t,e){const i=L(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?i+" "+this._initialTransform:i}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._boundaryElement.getBoundingClientRect(),n=this._rootElement.getBoundingClientRect();if(0===i.width&&0===i.height||0===n.width&&0===n.height)return;const s=i.left-n.left,o=n.right-i.right,r=i.top-n.top,a=n.bottom-i.bottom;i.width>n.width?(s>0&&(t+=s),o>0&&(t-=o)):t=0,i.height>n.height?(r>0&&(e+=r),a>0&&(e-=a)):e=0,t===this._passiveTransform.x&&e===this._passiveTransform.y||this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:A(t)?e.touch:e?e.mouse:0}_updateOnScroll(){const t=this._scrollPosition,e=this._viewportRuler.getViewportScrollPosition();t&&this._boundaryRect&&R(this._boundaryRect,t.top-e.top,t.left-e.left),this._scrollPosition=e}}function L(t,e){return`translate3d(${Math.round(t)}px, ${Math.round(e)}px, 0)`}function T(t){const e=t.cloneNode(!0),i=e.querySelectorAll("[id]"),n=t.querySelectorAll("canvas");e.removeAttribute("id");for(let s=0;s<i.length;s++)i[s].removeAttribute("id");if(n.length){const t=e.querySelectorAll("canvas");for(let e=0;e<n.length;e++){const i=t[e].getContext("2d");i&&i.drawImage(n[e],0,0)}}return e}function j(t,e,i){return Math.max(e,Math.min(i,t))}function $(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function A(t){return"t"===t.type[0]}function B(t,e){const i=t.rootNodes;if(1===i.length&&i[0].nodeType===e.ELEMENT_NODE)return i[0];const n=e.createElement("div");return i.forEach(t=>n.appendChild(t)),n}function F(t,e){const i=e.getBoundingClientRect();t.style.width=`${i.width}px`,t.style.height=`${i.height}px`,t.style.transform=L(i.left,i.top)}function X(t,e){return Math.max(0,Math.min(e,t))}class Y{constructor(t,e,i,n,s){this._dragDropRegistry=e,this._ngZone=n,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.enterPredicate=()=>!0,this.beforeStarted=new g.a,this.entered=new g.a,this.exited=new g.a,this.dropped=new g.a,this.sorted=new g.a,this._isDragging=!1,this._itemPositions=[],this._parentPositions=new Map,this._previousSwap={drag:null,delta:0},this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=p.a.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new g.a,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(t=0,e=f.a){return(!Object(_.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=f.a),new u.a(i=>(i.add(e.schedule(b,t,{subscriber:i,counter:0,period:t})),i))}(0,m.a).pipe(Object(a.a)(this._stopScrollTimers)).subscribe(()=>{const t=this._scrollNode;1===this._verticalScrollDirection?N(t,-2):2===this._verticalScrollDirection&&N(t,2),1===this._horizontalScrollDirection?Z(t,-2):2===this._horizontalScrollDirection&&Z(t,2)})},this.element=Object(d.e)(t),this._document=i,this.withScrollableParents([this.element]),e.registerDropContainer(this)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){const t=Object(d.e)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._siblings.forEach(t=>t._startReceiving(this)),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}enter(t,e,i,n){let s;this.start(),null==n?(s=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===s&&(s=this._getItemIndexFromPointerPosition(t,e,i))):s=n;const o=this._activeDraggables,r=o.indexOf(t),a=t.getPlaceholderElement();let c=o[s];if(c===t&&(c=o[s+1]),r>-1&&o.splice(r,1),c&&!this._dragDropRegistry.isDragging(c)){const e=c.getRootElement();e.parentElement.insertBefore(a,e),o.splice(s,0,t)}else Object(d.e)(this.element).appendChild(a),o.push(t);a.style.transform="",this._cacheItemPositions(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,n,s,o){this._reset(),null==o&&(o=i.getItemIndex(t)),this.dropped.next({item:t,currentIndex:e,previousIndex:o,container:this,previousContainer:i,isPointerOverContainer:n,distance:s})}withItems(t){return this._draggables=t,t.forEach(t=>t._withDropContainer(this)),this.isDragging()&&this._cacheItems(),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=Object(d.e)(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getItemIndex(t){return this._isDragging?H("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,e=>e.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,n){if(this.sortingDisabled||!I(this._clientRect,.05,e,i))return;const s=this._itemPositions,o=this._getItemIndexFromPointerPosition(t,e,i,n);if(-1===o&&s.length>0)return;const r="horizontal"===this._orientation,a=H(s,e=>e.drag===t),c=s[o],h=s[a].clientRect,l=c.clientRect,d=a>o?1:-1;this._previousSwap.drag=c.drag,this._previousSwap.delta=r?n.x:n.y;const g=this._getItemOffsetPx(h,l,d),p=this._getSiblingOffsetPx(a,s,d),u=s.slice();!function(t,e,i){const n=X(e,t.length-1),s=X(i,t.length-1);if(n===s)return;const o=t[n],r=s<n?-1:1;for(let a=n;a!==s;a+=r)t[a]=t[a+r];t[s]=o}(s,a,o),this.sorted.next({previousIndex:a,currentIndex:o,container:this,item:t}),s.forEach((e,i)=>{if(u[i]===e)return;const n=e.drag===t,s=n?g:p,o=n?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=s,r?(o.style.transform=`translate3d(${Math.round(e.offset)}px, 0, 0)`,R(e.clientRect,0,s)):(o.style.transform=`translate3d(0, ${Math.round(e.offset)}px, 0)`,R(e.clientRect,s,0))})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,n=0,s=0;if(this._parentPositions.forEach((o,r)=>{r!==this._document&&o.clientRect&&!i&&I(o.clientRect,.05,t,e)&&([n,s]=function(t,e,i,n){const s=W(e,n),o=K(e,i);let r=0,a=0;if(s){const e=t.scrollTop;1===s?e>0&&(r=1):t.scrollHeight-e>t.clientHeight&&(r=2)}if(o){const e=t.scrollLeft;1===o?e>0&&(a=1):t.scrollWidth-e>t.clientWidth&&(a=2)}return[r,a]}(r,o.clientRect,t,e),(n||s)&&(i=r))}),!n&&!s){const{width:o,height:r}=this._viewportRuler.getViewportSize(),a={width:o,height:r,top:0,right:o,bottom:r,left:0};n=W(a,e),s=K(a,t),i=window}!i||n===this._verticalScrollDirection&&s===this._horizontalScrollDirection&&i===this._scrollNode||(this._verticalScrollDirection=n,this._horizontalScrollDirection=s,this._scrollNode=i,(n||s)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_cacheParentPositions(){this._parentPositions.clear(),this._parentPositions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),this._scrollableElements.forEach(t=>{const e=k(t);t===this.element&&(this._clientRect=e),this._parentPositions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:e})})}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const e=t.getVisibleElement();return{drag:t,offset:0,clientRect:k(e)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_reset(){this._isDragging=!1;const t=Object(d.e)(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>t.getRootElement().style.transform=""),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,i){const n="horizontal"===this._orientation,s=e[t].clientRect,o=e[t+-1*i];let r=s[n?"width":"height"]*i;if(o){const t=n?"left":"top",e=n?"right":"bottom";-1===i?r-=o.clientRect[t]-s[e]:r+=s[t]-o.clientRect[e]}return r}_getItemOffsetPx(t,e,i){const n="horizontal"===this._orientation;let s=n?e.left-t.left:e.top-t.top;return-1===i&&(s+=n?e.width-t.width:e.height-t.height),s}_getItemIndexFromPointerPosition(t,e,i,n){const s="horizontal"===this._orientation;return H(this._itemPositions,({drag:o,clientRect:r},a,c)=>{if(o===t)return c.length<2;if(n){const t=s?n.x:n.y;if(o===this._previousSwap.drag&&t===this._previousSwap.delta)return!1}return s?e>=Math.floor(r.left)&&e<=Math.floor(r.right):i>=Math.floor(r.top)&&i<=Math.floor(r.bottom)})}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_updateAfterScroll(t,e,i){const n=t===this._document?t.documentElement:t,s=this._parentPositions.get(t).scrollPosition,o=s.top-e,r=s.left-i;this._parentPositions.forEach((e,i)=>{e.clientRect&&t!==i&&n.contains(i)&&R(e.clientRect,o,r)}),this._itemPositions.forEach(({clientRect:t})=>{R(t,o,r)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()}),s.top=e,s.left=i}_isOverContainer(t,e){return C(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(n=>n._canReceive(t,e,i))}_canReceive(t,e,i){if(!C(this._clientRect,e,i)||!this.enterPredicate(t,this))return!1;const n=this._getShadowRoot().elementFromPoint(e,i);if(!n)return!1;const s=Object(d.e)(this.element);return n===s||s.contains(n)}_startReceiving(t){const e=this._activeSiblings;e.has(t)||(e.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{if(this.isDragging()){const e=t.target;if(this._parentPositions.get(e)){let t,i;if(e===this._document){const e=this._viewportRuler.getViewportScrollPosition();t=e.top,i=e.left}else t=e.scrollTop,i=e.scrollLeft;this._updateAfterScroll(e,t,i)}}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=Object(l.c)(Object(d.e)(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}}function H(t,e){for(let i=0;i<t.length;i++)if(e(t[i],i,t))return i;return-1}function N(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function Z(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function W(t,e){const{top:i,bottom:n,height:s}=t,o=.05*s;return e>=i-o&&e<=i+o?1:e>=n-o&&e<=n+o?2:0}function K(t,e){const{left:i,right:n,width:s}=t,o=.05*s;return e>=i-o&&e<=i+o?1:e>=n-o&&e<=n+o?2:0}const V=Object(l.e)({passive:!1,capture:!0});let q=(()=>{class t{constructor(t,e){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new g.a,this.pointerUp=new g.a,this.scroll=new g.a,this._preventDefaultWhileDragging=t=>{this._activeDragInstances.size&&t.preventDefault()},this._document=e}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._preventDefaultWhileDragging,V)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._preventDefaultWhileDragging,V)}startDragging(t,e){if(!this._activeDragInstances.has(t)&&(this._activeDragInstances.add(t),1===this._activeDragInstances.size)){const t=e.type.startsWith("touch"),i=t?"touchend":"mouseup";this._globalListeners.set(t?"touchmove":"mousemove",{handler:t=>this.pointerMove.next(t),options:V}).set(i,{handler:t=>this.pointerUp.next(t),options:!0}).set("scroll",{handler:t=>this.scroll.next(t),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:V}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((t,e)=>{this._document.addEventListener(e,t.handler,t.options)})})}}stopDragging(t){this._activeDragInstances.delete(t),0===this._activeDragInstances.size&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances.has(t)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,e)=>{this._document.removeEventListener(e,t.handler,t.options)}),this._globalListeners.clear()}}return t.\u0275fac=function(e){return new(e||t)(c.cc(c.z),c.cc(n.e))},t.\u0275prov=Object(c.Ob)({factory:function(){return new t(Object(c.cc)(c.z),Object(c.cc)(n.e))},token:t,providedIn:"root"}),t})();const U={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let J=(()=>{class t{constructor(t,e,i,n){this._document=t,this._ngZone=e,this._viewportRuler=i,this._dragDropRegistry=n}createDrag(t,e=U){return new M(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new Y(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return t.\u0275fac=function(e){return new(e||t)(c.cc(n.e),c.cc(c.z),c.cc(h.g),c.cc(q))},t.\u0275prov=Object(c.Ob)({factory:function(){return new t(Object(c.cc)(n.e),Object(c.cc)(c.z),Object(c.cc)(h.g),Object(c.cc)(q))},token:t,providedIn:"root"}),t})();const Q=new c.q("CDK_DRAG_PARENT");let tt=(()=>{class t{constructor(t,e){this.element=t,this._stateChanges=new g.a,this._disabled=!1,this._parentDrag=e,S(t.nativeElement,!1)}get disabled(){return this._disabled}set disabled(t){this._disabled=Object(d.c)(t),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return new(e||t)(c.Sb(c.l),c.Sb(Q,8))},t.\u0275dir=c.Nb({type:t,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]}}),t})(),et=(()=>{class t{constructor(t){this.templateRef=t}}return t.\u0275fac=function(e){return new(e||t)(c.Sb(c.L))},t.\u0275dir=c.Nb({type:t,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"}}),t})(),it=(()=>{class t{constructor(t){this.templateRef=t,this._matchSize=!1}get matchSize(){return this._matchSize}set matchSize(t){this._matchSize=Object(d.c)(t)}}return t.\u0275fac=function(e){return new(e||t)(c.Sb(c.L))},t.\u0275dir=c.Nb({type:t,selectors:[["ng-template","cdkDragPreview",""]],inputs:{matchSize:"matchSize",data:"data"}}),t})();const nt=new c.q("CDK_DRAG_CONFIG"),st=new c.q("CDK_DROP_LIST");let ot=(()=>{class t{constructor(t,e,i,n,s,o,a,h,l){this.element=t,this.dropContainer=e,this._document=i,this._ngZone=n,this._viewContainerRef=s,this._dir=a,this._changeDetectorRef=l,this._destroyed=new g.a,this.started=new c.n,this.released=new c.n,this.ended=new c.n,this.entered=new c.n,this.exited=new c.n,this.dropped=new c.n,this.moved=new u.a(t=>{const e=this._dragRef.moved.pipe(Object(r.a)(t=>({source:this,pointerPosition:t.pointerPosition,event:t.event,delta:t.delta,distance:t.distance}))).subscribe(t);return()=>{e.unsubscribe()}}),this._dragRef=h.createDrag(t,{dragStartThreshold:o&&null!=o.dragStartThreshold?o.dragStartThreshold:5,pointerDirectionChangeThreshold:o&&null!=o.pointerDirectionChangeThreshold?o.pointerDirectionChangeThreshold:5,zIndex:null==o?void 0:o.zIndex}),this._dragRef.data=this,o&&this._assignDefaults(o),e&&(this._dragRef._withDropContainer(e._dropListRef),e.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=Object(d.c)(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.onStable.asObservable().pipe(Object(x.a)(1),Object(a.a)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._handles.changes.pipe(Object(y.a)(this._handles),Object(v.a)(t=>{const e=t.filter(t=>t._parentDrag===this).map(t=>t.element);this._dragRef.withHandles(e)}),Object(o.a)(t=>Object(D.a)(...t.map(t=>t._stateChanges.pipe(Object(y.a)(t))))),Object(a.a)(this._destroyed)).subscribe(t=>{const e=this._dragRef,i=t.element.nativeElement;t.disabled?e.disableHandle(i):e.enableHandle(i)}),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})}ngOnChanges(t){const e=t.rootElementSelector,i=t.freeDragPosition;e&&!e.firstChange&&this._updateRootElement(),i&&!i.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}_updateRootElement(){const t=this.element.nativeElement,e=this.rootElementSelector?rt(t,this.rootElementSelector):t;if(e&&e.nodeType!==this._document.ELEMENT_NODE)throw Error("cdkDrag must be attached to an element node. "+`Currently attached to "${e.nodeName}".`);this._dragRef.withRootElement(e||t)}_getBoundaryElement(){const t=this.boundaryElement;if(!t)return null;if("string"==typeof t)return rt(this.element.nativeElement,t);const e=Object(d.e)(t);if(Object(c.W)()&&!e.contains(this.element.nativeElement))throw Error("Draggable element is not inside of the node passed into cdkDragBoundary.");return e}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const e=this._dir,i=this.dragStartDelay,n=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,s=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof i&&i?i:Object(d.f)(i),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(n).withPreviewTemplate(s),e&&t.withDirection(e.value)}})}_handleEvents(t){t.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(()=>{this.released.emit({source:this})}),t.ended.subscribe(t=>{this.ended.emit({source:this,distance:t.distance}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(t=>{this.entered.emit({container:t.container.data,item:this,currentIndex:t.currentIndex})}),t.exited.subscribe(t=>{this.exited.emit({container:t.container.data,item:this})}),t.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:this,distance:t.distance})})}_assignDefaults(t){const{lockAxis:e,dragStartDelay:i,constrainPosition:n,previewClass:s,boundaryElement:o,draggingDisabled:r,rootElementSelector:a}=t;this.disabled=null!=r&&r,this.dragStartDelay=i||0,e&&(this.lockAxis=e),n&&(this.constrainPosition=n),s&&(this.previewClass=s),o&&(this.boundaryElement=o),a&&(this.rootElementSelector=a)}}return t.\u0275fac=function(e){return new(e||t)(c.Sb(c.l),c.Sb(st,12),c.Sb(n.e),c.Sb(c.z),c.Sb(c.P),c.Sb(nt,8),c.Sb(w.c,8),c.Sb(J),c.Sb(c.h))},t.\u0275dir=c.Nb({type:t,selectors:[["","cdkDrag",""]],contentQueries:function(t,e,i){var n;1&t&&(c.Kb(i,it,!0),c.Kb(i,et,!0),c.Kb(i,tt,!0)),2&t&&(c.yc(n=c.hc())&&(e._previewTemplate=n.first),c.yc(n=c.hc())&&(e._placeholderTemplate=n.first),c.yc(n=c.hc())&&(e._handles=n))},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,e){2&t&&c.Jb("cdk-drag-disabled",e.disabled)("cdk-drag-dragging",e._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[c.Bb([{provide:Q,useExisting:t}]),c.Ab]}),t})();function rt(t,e){let i=t.parentElement;for(;i;){if(i.matches?i.matches(e):i.msMatchesSelector(e))return i;i=i.parentElement}return null}let at=(()=>{class t{}return t.\u0275mod=c.Qb({type:t}),t.\u0275inj=c.Pb({factory:function(e){return new(e||t)},providers:[J]}),t})();const ct=function(t,e){return[t[0]+e[0],t[1]+e[1]]},ht=function(t,e){return[t[0]*e,t[1]*e]},lt=function(t,e){return t[0]*e[1]-t[1]*e[0]==0},dt=function(t,e){return t[0]*e[0]+t[1]*e[1]};function gt(t,e){return t.find(t=>t!==e)}function pt(t){return(0!==t[0]||0!==t[1])&&(0===t[0]?[0,t[1]/Math.abs(t[1])]:0===t[1]?[t[0]/Math.abs(t[0]),0]:function(t){const e=Math.sqrt(t[0]*t[0]+t[1]*t[1]);return[t[0]/e,t[1]/e]}(t))}var ut=function(t){return t.rect="rect",t.diamond="diamond",t.ellipse="ellipse",t.line="line",t}({}),ft=function(t){return t[t.top=0]="top",t[t.right=1]="right",t[t.bottom=2]="bottom",t[t.left=3]="left",t}({});let _t=(()=>{class t{getGraphData(t){switch(t.type){case ut.rect:{const e=Object.assign({width:100,height:34,x:0,y:0},t),i=Object.assign({color:"#ccc",fontSize:12},e.style),n=e.width-2*i.radius,s=e.height-2*i.radius;return i.dx=e.width/2,i.dy=(e.height-i.fontSize)/2,e.data=`M0,0m${i.radius+1},1h${n}a${i.radius},\n              ${i.radius},0,0,1,${i.radius},${i.radius}v${s}a\n              ${i.radius},${i.radius},0,0,1,-${i.radius},\n              ${i.radius}h-${n}a${i.radius},${i.radius},0,0,1,-\n              ${i.radius},-${i.radius}v-${s}a${i.radius},\n              ${i.radius},0,0,1,${i.radius},-${i.radius}z`.replace(/\s/g,""),Object.assign(Object.assign({},e),{style:i})}case ut.diamond:{const e=Object.assign({width:100,height:34,x:0,y:0},t),i=Object.assign({color:"#ccc",fontSize:12},e.style),n=e.width/2,s=parseInt(Math.sqrt(n*n/3).toFixed(2),0);return i.dx=n+1,i.dy=s-6,e.height=2*s,e.data=`M${n+1},1m-4,1.53a6,6,0,0,1,8,0\n              l${n-5.53},${s-3.53}a6,3,0,0,1,0,4l${5.53-n},${s-3.53}\n              a6,6,0,0,1,-8,0l${5.53-n},${3.53-s}a6,3,0,0,1,0,-4z`.replace(/\s/g,""),Object.assign(Object.assign({},e),{style:i})}case ut.ellipse:{const e=Object.assign({width:100,height:34,x:0,y:0},t),i=Object.assign({color:"#ccc",fontSize:12},e.style);i.dx=e.width/2;const n=e.height/2;return i.dy=(e.height-i.fontSize)/2,e.data=`M0,0m${n},${e.height}a${n},${n},0,0,1,0,-${e.height}l\n        ${e.width-e.height},0a${n},${n},0,0,1,0,${e.height}z`.replace(/\s/g,""),Object.assign(Object.assign({},e),{style:i})}case ut.line:return this.drawLine(t)}}getDiamondHeight(t){const e=t/2;return 2*parseInt(Math.sqrt(e*e/3).toFixed(2),0)}drawLine(t){const e=Object.assign({},t),i=Object.assign({color:"#aaa"},e.style),n=function({entryPoint:t=[0,0],entryDirection:e=[0,1],entryExt:i=10,exitPoint:n=[10,10],exitDirection:s=[1,0],exitExt:o=10},r=.5){if(null===s||"0,0"===s.join()){const e=[(c=t)[0]-(a=n)[0],c[1]-a[1]];s=Math.abs(e[0])>Math.abs(e[1])?[e[0]/Math.abs(e[0]),0]:[0,e[1]/Math.abs(e[1])]}var a,c;const h=ct(t,ht(e,i)),l=ct(n,ht(s,o));s=ht(s,-1);const d=[[l[0]-h[0],0],[0,l[1]-h[1]]];let g;const p=d.find(t=>lt(t,e));let u;g=dt(p,e)>0?p:gt(d,p);const f=d.find(t=>lt(t,s));u=dt(f,s)>0?f:gt(d,f);const _=dt(g,u)>0?2:1,b=gt(d,u),m=[];if(m.push({position:t,direction:null},{position:h,direction:e}),1===_){const t=ct(h,g),e=pt(g),i=ct(t,u),n=pt(u);m.push({position:t,direction:e},{position:i,direction:n})}else{const t=ct(h,ht(g,r)),e=pt(g),i=ct(t,b),n=pt(b),s=ct(i,ht(u,1-r)),o=pt(u);m.push({position:t,direction:e},{position:i,direction:n,type:"pathMiddleP"},{position:s,direction:o})}return m.push({position:n,direction:s}),m.filter(t=>!1!==t.direction)}({entryPoint:[e.x1,e.y1],entryDirection:this.convertDirToVector(e.dir1),entryExt:10,exitPoint:[e.x2,e.y2],exitDirection:this.convertDirToVector(e.dir2),exitExt:10}).map(t=>`L${t.position.toString()}`),s=(Math.ceil(n.length/2),this.getLabelCenterPosition(e));return e.data=n.toString().replace(/^L/,"M").replace(/,L/g,"L"),Object.assign(Object.assign(Object.assign({},e),{style:i}),s)}getLabelCenterPosition(t){return{x:(t.x1-t.x2)/2+t.x2+3,y:(t.y1-t.y2)/2+t.y2-3}}getPosition(t,e={x:0,y:0}){let i=(t instanceof ot?t.element.nativeElement:t).style.transform.replace(/,\s/g,",").split(" ");i=i.map(t=>t.replace(/.+\((-?\d+)px,(-?\d+).+/,"$1,$2"));const n={x:0,y:0};return i.forEach(t=>{if(t){const e=t.replace(/\s/g,"").split(",");n.x+=parseInt(e[0],0),n.y+=parseInt(e[1],0)}}),{x:n.x+e.x,y:n.y+e.y}}getDirection(t,e){const i=e.x-t.x,n=e.y-t.y,s=i>0?ft.right:ft.left,o=n>0?ft.bottom:ft.top;return Math.abs(i)>Math.abs(n)?s:o}convertDirToVector(t){return[[0,-1],[1,0],[0,1],[-1,0]][t]}getGraphPoints(t){const{x:e,y:i,width:n,height:s}=t;return{top:this.offsetPoint({x:e,y:i},{x:n/2+1,y:1}),right:this.offsetPoint({x:e,y:i},{x:n+1,y:s/2+1}),bottom:this.offsetPoint({x:e,y:i},{x:n/2+1,y:s+1}),left:this.offsetPoint({x:e,y:i},{x:1,y:s/2+1})}}offsetPoint(t,e){return{x:t.x+e.x,y:t.y+e.y}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=c.Ob({token:t,factory:t.\u0275fac}),t})();var bt=i("2Vo4"),mt=i("Kj3r");class Dt{constructor(){this.graphs=[]}get length(){return this.graphs.length}find(t){const e="object"==typeof t?t.id:t;return this.graphs.find(t=>t.id===e)}findIndex(t){const e="object"==typeof t?t.id:t;return this.graphs.findIndex(t=>t.id===e)}clear(){this.graphs=[]}getAll(){return this.graphs}findGraph(t){for(const e of this.graphs){const i=this._handleGraphPoints(e);if(t.x>i.x1&&t.x<i.x2&&t.y>i.y1&&t.y<i.y2)return e}}_handleGraphPoints(t){let e,i=t.x1||t.x,n=t.x2||t.x+t.width;e=i,i>n&&(i=n,n=e);let s=t.y1||t.y,o=t.y2||t.y+t.height;return e=s,s>o&&(s=o,o=e),{x1:i,x2:n,y1:s,y2:o}}add(t,e=this.graphs.length){this.graphs.splice(e,0,t)}get(t){return this.graphs[t]}remove(t){this.graphs.splice(t,1)}delete(t){const e="object"==typeof t?t.id:t,i=this.graphs.findIndex(t=>t.id===e);this.graphs.splice(i,1)}set(t,e){this.graphs[t]=Object.assign(Object.assign({},this.graphs[t]),e)}}let yt=(()=>{class t{constructor(t){this.fGraph=t,this.storeGraphs=new Dt,this.storeLines=new Dt,this.graphPoints=[],this.relations=[],this.storeGraphs$=new bt.a(null),this.storeLines$=new bt.a(null),this.graphs$=this.storeGraphs$.pipe(Object(mt.a)(10)),this.lines$=this.storeLines$.pipe(Object(mt.a)(10))}add(t){t.id="fc_"+(new Date).getTime().toString();const e=this.fGraph.getGraphData(t);return e.type===ut.line?(this.storeLines.add(e),this.storeLines$.next(this.storeLines.getAll()),e):(this.storeGraphs.add(e),this.graphPoints.push(...Object.values(this.fGraph.getGraphPoints(e))),this.storeGraphs$.next(this.storeGraphs.getAll()),e)}update(t){const e=this.findIndex(t.id,t.type);this.set(e,t)}set(t,e){if(e.type===ut.line)this.storeLines.set(t,e),this.storeLines$.next(this.storeLines.getAll());else{this.storeGraphs.set(t,e);const i=this.storeGraphs.get(t),n=Object.values(this.fGraph.getGraphPoints(i));this.graphPoints.splice(t*n.length,n.length,...n),this.storeGraphs$.next(this.storeGraphs.getAll())}}getAllLines(){return this.storeLines.getAll()}getAllGraphs(){return this.storeGraphs.getAll()}clear(){this.relations=[],this.graphPoints=[],this.storeGraphs.clear(),this.storeGraphs$.next([]),this.storeLines.clear(),this.storeLines$.next([])}addRelation(t){this.relations.push(t)}getRelations(t){return this.relations.filter(t)}findGraphByPoint(t){return this.storeGraphs.findGraph(t)||this.storeLines.findGraph(t)}findRelationIndex(t){return this.relations.findIndex(t)}removeRelation(t){return this.relations.splice(t,1)}getPoint(t){return this.graphPoints[t]}delete(t){t.type===ut.line?(this.storeLines.delete(t),this.storeLines$.next(this.storeLines.getAll())):(this.storeGraphs.delete(t),this.storeGraphs$.next(this.storeGraphs.getAll())),this.deleteRelation(t)}deleteRelation(t){t.type===ut.line?this.relations.filter(e=>e.lineId===t.id).forEach(t=>{const e=this.relations.findIndex(e=>e.lineId===t.lineId);this.relations.splice(e,1)}):this.relations.filter(e=>e.graphId===t.id).forEach(t=>{const e=this.relations.findIndex(e=>e.graphId===t.graphId);this.relations.splice(e,1)})}findPoint(t){const e=this.graphPoints.length;for(let i=0;i<e;i++){const e=this.graphPoints[i];if(e.x-10<t.x&&e.x+10>t.x&&e.y-10<t.y&&e.y+10>t.y){const t=(i+1)%4;return{graph:this.storeGraphs.get((i+1+(t>0?4-t:0))/4-1),dir:i%4,pointIndex:i,point:e}}}return null}addAll(t){t.forEach(t=>{t.id=(new Date).getTime();const e=this.fGraph.getGraphData(t);e.type===ut.line?(this.storeLines.add(e),this.storeLines$.next(this.storeLines.getAll())):(this.storeGraphs.add(e),this.graphPoints.push(...Object.values(this.fGraph.getGraphPoints(e))),this.storeGraphs$.next(this.storeGraphs.getAll()))})}addAllLines(t){t.forEach(t=>{this.storeLines.add(this.fGraph.getGraphData(t))}),this.storeLines$.next(this.storeLines.getAll())}addAllGraphs(t){t.forEach(t=>{this.storeGraphs.add(this.fGraph.getGraphData(t)),this.graphPoints.push(...Object.values(this.fGraph.getGraphPoints(t)))}),this.storeGraphs$.next(this.storeGraphs.getAll())}find(t,e){const i="object"==typeof t?t:{id:t,type:e};return i.type===ut.line?this.storeLines.find(i.id):this.storeGraphs.find(i.id)}findIndex(t,e=ut.line){return e===ut.line?this.storeLines.findIndex(t):this.storeGraphs.findIndex(t)}get(t,e=ut.line){return e===ut.line?this.storeLines.get(t):this.storeGraphs.get(t)}removeGraph(t){this.storeGraphs.remove(t)}}return t.\u0275fac=function(e){return new(e||t)(c.cc(_t))},t.\u0275prov=c.Ob({token:t,factory:t.\u0275fac}),t})();const xt=["nzo-line",""],vt=function(t){return{transform:t}};function wt(t,e){if(1&t){const t=c.Zb();c.jc(),c.Yb(0,"g"),c.Yb(1,"circle",4),c.gc("cdkDragStarted",(function(e){return c.Bc(t),c.kc().onDragLineStarted(e,"start")}))("cdkDragEnded",(function(e){return c.Bc(t),c.kc().onDragEndedLine(e,"start")}))("cdkDragMoved",(function(e){return c.Bc(t),c.kc().onDragLineMoved(e,"start")})),c.Xb(),c.Yb(2,"circle",4),c.gc("cdkDragStarted",(function(e){return c.Bc(t),c.kc().onDragLineStarted(e,"end")}))("cdkDragEnded",(function(e){return c.Bc(t),c.kc().onDragEndedLine(e,"end")}))("cdkDragMoved",(function(e){return c.Bc(t),c.kc().onDragLineMoved(e,"end")})),c.Xb(),c.Xb()}if(2&t){const t=c.kc();c.Cb(1),c.Jb("nzo-fc-connect-point",!t.nzoSelected),c.sc("ngStyle",c.vc(8,vt,"translate3d("+t.nzoData.x1+"px, "+t.nzoData.y1+"px, 0)")),c.Db("transform","translate("+t.nzoData.x1+","+t.nzoData.y1+")"),c.Cb(1),c.Jb("nzo-fc-connect-point",!t.nzoSelected),c.sc("ngStyle",c.vc(10,vt,"translate3d("+t.nzoData.x2+"px, "+t.nzoData.y2+"px, 0)")),c.Db("transform","translate("+t.nzoData.x2+","+t.nzoData.y2+")")}}let zt=(()=>{class t{constructor(t){this.fGraph=t,this.dragDisabled=!1,this.pointStart=new c.n,this.pointEnd=new c.n,this.dblclick=new c.n,this.click=new c.n,this.mousedown=new c.n,this.nzoSelected=!1}ngOnInit(){}onDragLineStarted(t,e){this.pointStart.emit(Object.assign(Object.assign({},t),{linePos:e}))}onDragEndedLine(t,e){this.pointEnd.emit(Object.assign(Object.assign({},t),{linePos:e}))}onDragLineMoved(t,e){const{x:i,y:n}=this.fGraph.getPosition(t.source);if("start"===e){const t=this.fGraph.drawLine(Object.assign(Object.assign({},this.nzoData),{x1:i,y1:n}));this.nzoData.x1=t.x1,this.nzoData.y1=t.y1,this.nzoData.data=t.data}else{const t=this.fGraph.drawLine(Object.assign(Object.assign({},this.nzoData),{x2:i,y2:n}));this.nzoData.x2=t.x2,this.nzoData.y2=t.y2,this.nzoData.data=t.data}}}return t.\u0275fac=function(e){return new(e||t)(c.Sb(_t))},t.\u0275cmp=c.Mb({type:t,selectors:[["","nzo-line",""]],inputs:{nzoData:"nzoData",dragDisabled:["nzoDragDisabled","dragDisabled"],relation:["nzoSelectedRelation","relation"],nzoSelected:"nzoSelected"},outputs:{pointStart:"nzoDragPointStarted",pointEnd:"nzoDragPointEnded",dblclick:"nzoDblclick",click:"nzoClick",mousedown:"nzoMousedown"},attrs:xt,decls:4,vars:6,consts:[[1,"nzo-fc-line"],["fill","transparent","stroke-width","1","marker-end","url(#markerArrow)",3,"click","mousedown","dblclick"],["fill","rgba(0, 0, 0, 0.65)","fontSize","12",3,"innerHTML"],[4,"ngIf"],["cdkDrag","","r","3.5","stroke","#1590ff","stroke-width","1","fill","#fff",3,"ngStyle","cdkDragStarted","cdkDragEnded","cdkDragMoved"]],template:function(t,e){1&t&&(c.jc(),c.Yb(0,"g",0),c.Yb(1,"path",1),c.gc("click",(function(t){return e.click.emit(t)}))("mousedown",(function(t){return e.mousedown.emit(t)}))("dblclick",(function(t){return e.dblclick.emit(t)})),c.Xb(),c.Tb(2,"text",2),c.Kc(3,wt,3,12,"g",3),c.Xb()),2&t&&(c.Cb(1),c.Db("stroke",e.nzoSelected?"#455FF7":"#aaa")("d",e.nzoData.data),c.Cb(1),c.sc("innerHTML",e.nzoData.text,c.Cc),c.Db("x",e.nzoData.x)("y",e.nzoData.y),c.Cb(1),c.sc("ngIf",!e.dragDisabled&&(null==e.relation?null:e.relation.lineId)!==e.nzoData.id))},directives:[n.t,ot,n.w],encapsulation:2}),t})();class St{static isHex(t){return/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t)}static isRgbOrRgba(t){return/^rgb/.test(t)}static hex2Rgba(t,e=1){let i=t.toLowerCase();if(i&&this.isHex(i)){if(4===i.length){let t="#";for(let e=1;e<4;e+=1)t+=i.slice(e,e+1).concat(i.slice(e,e+1));i=t}const t=[];for(let e=1;e<7;e+=2)t.push(parseInt("0x"+i.slice(e,e+2),0));return"rgba("+t.join(",")+","+(e||1)+")"}return i}static gradientColor(t,e,i){if(i>=1)return t;if((this.isHex(t)||this.isRgbOrRgba(t))&&(this.isHex(e)||this.isRgbOrRgba(e))){const n=this.hex2Rgba(t).replace(/^rgba?\(([\,\s\d]+)\)$/,"$1").split(","),s=this.hex2Rgba(e).replace(/^rgba?\(([\,\s\d]+)\)$/,"$1").split(","),o=(parseInt(s[0],0)-parseInt(n[0],0))*(1-i)+parseInt(n[0],0),r=(parseInt(s[1],0)-parseInt(n[1],0))*(1-i)+parseInt(n[1],0),a=(parseInt(s[2],0)-parseInt(n[2],0))*(1-i)+parseInt(n[2],0);return`rgb(${Math.floor(o)},${Math.floor(r)},${Math.floor(a)})`}return t}}const Pt=["nzo-graph",""],Et=function(t){return{transform:t}},kt=function(t){return{fontSize:t}};let Ct=(()=>{class t{constructor(){this.nzoBorder=1,this.nzoSelected=!1,this.nzoPoint=!1,this.dragDisabled=!1}ngOnInit(){}gradient(t,e=.1){return St.gradientColor(t,"#fff",e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Mb({type:t,selectors:[["","nzo-graph",""]],inputs:{nzoData:"nzoData",nzoBorder:"nzoBorder",nzoSelected:"nzoSelected",nzoPoint:"nzoPoint",dragDisabled:["nzoDragDisabled","dragDisabled"]},attrs:Pt,decls:3,vars:15,consts:[[1,"nzo-fc-rect-box",3,"ngStyle"],["text-rendering","inherit","text-anchor","middle","dominant-baseline","text-before-edge",1,"iconfont",3,"ngStyle","innerHTML"]],template:function(t,e){1&t&&(c.jc(),c.Yb(0,"g",0),c.Tb(1,"path"),c.Tb(2,"text",1),c.Xb()),2&t&&(c.sc("ngStyle",c.vc(11,Et,"translate3d("+e.nzoData.x+"px, "+e.nzoData.y+"px, 0)")),c.Db("transform","translate("+e.nzoData.x+","+e.nzoData.y+")"),c.Cb(1),c.Db("fill",e.gradient(e.nzoData.style.color,e.nzoSelected?1:.1))("stroke-width",e.nzoBorder)("stroke",e.nzoData.style.color)("d",e.nzoData.data),c.Cb(1),c.sc("ngStyle",c.vc(13,kt,e.nzoData.style.fontSize+"px"))("innerHTML",e.nzoData.text,c.Cc),c.Db("fill",e.nzoSelected?"#fff":e.nzoData.style.color)("transform","translate("+e.nzoData.style.dx+","+e.nzoData.style.dy+")")("font-size",e.nzoData.style.fontSize))},directives:[n.w],encapsulation:2}),t})();const Rt=["nzo-graph-shadow",""],It=function(t){return{transform:t}};function Ot(t,e){if(1&t){const t=c.Zb();c.jc(),c.Yb(0,"circle",4),c.gc("cdkDragStarted",(function(e){c.Bc(t);const i=c.kc(2);return i.onDragStart(e,{x:i.nzoData.width/2+1,y:1,direction:0})}))("cdkDragEnded",(function(e){return c.Bc(t),c.kc(2).onDragEnd(e)}))("cdkDragMoved",(function(e){return c.Bc(t),c.kc(2).onDragMoved(e)}))("mousedown",(function(e){return c.Bc(t),c.kc(2).preventEvent(e)})),c.Xb()}if(2&t){const t=c.kc(2);c.Jb("nzo-fc-connect-point",!t.nzoSelected),c.sc("ngStyle",c.vc(4,It,"translate3d("+(t.nzoData.width/2+1)+"px, 1px, 0)")),c.Db("transform","translate("+(t.nzoData.width/2+1)+",1)")}}function Gt(t,e){if(1&t){const t=c.Zb();c.jc(),c.Yb(0,"circle",4),c.gc("cdkDragStarted",(function(e){c.Bc(t);const i=c.kc(2);return i.onDragStart(e,{x:i.nzoData.width/2+1,y:i.nzoData.height+1,direction:2})}))("cdkDragEnded",(function(e){return c.Bc(t),c.kc(2).onDragEnd(e)}))("cdkDragMoved",(function(e){return c.Bc(t),c.kc(2).onDragMoved(e)}))("mousedown",(function(e){return c.Bc(t),c.kc(2).preventEvent(e)})),c.Xb()}if(2&t){const t=c.kc(2);c.Jb("nzo-fc-connect-point",!t.nzoSelected),c.sc("ngStyle",c.vc(4,It,"translate3d("+(t.nzoData.width/2+1)+"px, "+(t.nzoData.height+1)+"px, 0)")),c.Db("transform","translate("+(t.nzoData.width/2+1)+","+(t.nzoData.height+1)+")")}}function Mt(t,e){if(1&t){const t=c.Zb();c.jc(),c.Yb(0,"circle",4),c.gc("cdkDragStarted",(function(e){c.Bc(t);const i=c.kc(2);return i.onDragStart(e,{x:1,y:i.nzoData.height/2+1,direction:3})}))("cdkDragEnded",(function(e){return c.Bc(t),c.kc(2).onDragEnd(e)}))("cdkDragMoved",(function(e){return c.Bc(t),c.kc(2).onDragMoved(e)}))("mousedown",(function(e){return c.Bc(t),c.kc(2).preventEvent(e)})),c.Xb()}if(2&t){const t=c.kc(2);c.Jb("nzo-fc-connect-point",!t.nzoSelected),c.sc("ngStyle",c.vc(4,It,"translate3d(1px, "+(t.nzoData.height/2+1)+"px, 0)")),c.Db("transform","translate(1,"+(t.nzoData.height/2+1)+")")}}function Lt(t,e){if(1&t){const t=c.Zb();c.jc(),c.Yb(0,"circle",4),c.gc("cdkDragStarted",(function(e){c.Bc(t);const i=c.kc(2);return i.onDragStart(e,{x:i.nzoData.width+1,y:i.nzoData.height/2+1,direction:1})}))("cdkDragEnded",(function(e){return c.Bc(t),c.kc(2).onDragEnd(e)}))("cdkDragMoved",(function(e){return c.Bc(t),c.kc(2).onDragMoved(e)}))("mousedown",(function(e){return c.Bc(t),c.kc(2).preventEvent(e)})),c.Xb()}if(2&t){const t=c.kc(2);c.Jb("nzo-fc-connect-point",!t.nzoSelected),c.sc("ngStyle",c.vc(4,It,"translate3d("+(t.nzoData.width+1)+"px, "+(t.nzoData.height/2+1)+"px, 0)")),c.Db("transform","translate("+(t.nzoData.width+1)+","+(t.nzoData.height/2+1)+")")}}function Tt(t,e){if(1&t&&(c.jc(),c.Yb(0,"g"),c.Kc(1,Ot,1,6,"circle",3),c.Kc(2,Gt,1,6,"circle",3),c.Kc(3,Mt,1,6,"circle",3),c.Kc(4,Lt,1,6,"circle",3),c.Xb()),2&t){const t=c.kc();c.Cb(1),c.sc("ngIf",!t.isMoving),c.Cb(1),c.sc("ngIf",!t.isMoving),c.Cb(1),c.sc("ngIf",!t.isMoving),c.Cb(1),c.sc("ngIf",!t.isMoving)}}let jt=(()=>{class t{constructor(){this.nzoBorder=1,this.nzoSelected=!1,this.nzoPoint=!1,this.click=new c.n,this.dblclick=new c.n,this.started=new c.n,this.ended=new c.n,this.pointStarted=new c.n,this.pointMoved=new c.n,this.pointEnded=new c.n,this.isMoving=!1}ngOnInit(){}opacity(t){return St.hex2Rgba(t,.1)}onMoveDragStart(t){this.isMoving=!0,this.started.emit(t)}onMoveDragEnd(t){this.isMoving=!1,this.ended.emit(t)}preventEvent(t){t.stopPropagation(),t.preventDefault()}onDragStart(t,e){this.pointStarted.emit(Object.assign(Object.assign({},t),{data:e}))}onDragMoved(t){this.pointMoved.emit(t)}onDragEnd(t){this.pointEnded.emit(t),t.source.reset()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Mb({type:t,selectors:[["","nzo-graph-shadow",""]],inputs:{nzoData:"nzoData",nzoBorder:"nzoBorder",nzoSelected:"nzoSelected",nzoPoint:"nzoPoint",relation:["nzoSelectedRelation","relation"]},outputs:{click:"nzoClick",dblclick:"nzoDblclick",started:"nzoDragGraphStarted",ended:"nzoDragGraphEnded",pointStarted:"nzoDragPointStarted",pointMoved:"nzoDragPointMoved",pointEnded:"nzoDragPointEnded"},attrs:Rt,decls:3,vars:9,consts:[["cdkDrag","",1,"nzo-fc-rect-box","nzo-fc-drag",3,"ngStyle","cdkDragStarted","dblclick","click","cdkDragEnded"],["stroke-dasharray","5,5"],[4,"ngIf"],["cdkDrag","","r","3.5","stroke","#1590ff","stroke-width","1","fill","#fff",3,"nzo-fc-connect-point","ngStyle","cdkDragStarted","cdkDragEnded","cdkDragMoved","mousedown",4,"ngIf"],["cdkDrag","","r","3.5","stroke","#1590ff","stroke-width","1","fill","#fff",3,"ngStyle","cdkDragStarted","cdkDragEnded","cdkDragMoved","mousedown"]],template:function(t,e){1&t&&(c.jc(),c.Yb(0,"g",0),c.gc("cdkDragStarted",(function(t){return e.onMoveDragStart(t)}))("dblclick",(function(t){return e.dblclick.emit(t)}))("click",(function(t){return e.click.emit(t)}))("cdkDragEnded",(function(t){return e.onMoveDragEnd(t)})),c.Tb(1,"path",1),c.Kc(2,Tt,5,4,"g",2),c.Xb()),2&t&&(c.sc("ngStyle",c.vc(7,It,"translate3d("+e.nzoData.x+"px, "+e.nzoData.y+"px, 0)")),c.Db("transform","translate("+e.nzoData.x+","+e.nzoData.y+")"),c.Cb(1),c.Db("fill",e.isMoving?e.opacity(e.nzoData.style.color):"transparent")("stroke-width",e.nzoBorder)("stroke",e.isMoving?e.nzoData.style.color:"transparent")("d",e.nzoData.data),c.Cb(1),c.sc("ngIf",e.nzoPoint&&(null==e.relation?null:e.relation.graphId)!==e.nzoData.id))},directives:[ot,n.w,n.t],encapsulation:2}),t})(),$t=(()=>{class t{constructor(t){this.elemRef=t,this.copy=new c.n,this.paste=new c.n,this.delete=new c.n}ngOnInit(){this.elemRef.nativeElement.style.position="fixed",this.hidden()}ngOnChanges(t){t.pos&&this.pos&&this.setPosition().then(()=>{this.show()})}setPosition(){return this.hidden(),Promise.resolve().then(()=>{const t=this.elemRef.nativeElement;t.style.left=this.pos.x+"px",t.style.top=this.pos.y+"px"})}onClose(t){if(2!==t.button){const t=setTimeout(()=>{this.hidden(),clearTimeout(t)},150)}}ngOnDestroy(){}show(){this.elemRef.nativeElement.style.display="block"}hidden(){this.elemRef.nativeElement.style.display="none"}onEvent(t,e){t.stopPropagation(),e.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(c.Sb(c.l))},t.\u0275cmp=c.Mb({type:t,selectors:[["nzo-contextmenu"]],hostBindings:function(t,e){1&t&&c.gc("mousedown",(function(t){return e.onClose(t)}),!1,c.Ac)},inputs:{pos:["nzoPosition","pos"]},outputs:{copy:"nzoCopy",paste:"nzoPaste",delete:"nzoDelete"},features:[c.Ab],decls:4,vars:0,consts:[[1,"ant-dropdown-menu","ant-dropdown-menu-root","ant-dropdown-menu-light","ant-dropdown-menu-vertical"],[1,"ant-dropdown-menu-item",3,"click"],["nz-icon","","nzType","delete"]],template:function(t,e){1&t&&(c.Yb(0,"ul",0),c.Yb(1,"li",1),c.gc("click",(function(t){return e.onEvent(t,e.delete)})),c.Tb(2,"i",2),c.Mc(3,"\u5220 \u9664"),c.Xb(),c.Xb())},styles:["ul[_ngcontent-%COMP%], li[_ngcontent-%COMP%] {\n        list-style: none;\n      }"]}),t})();const At=["rootCvs"];function Bt(t,e){1&t&&c.Ub(0)}function Ft(t,e){1&t&&(c.jc(),c.Tb(0,"g",16)),2&t&&c.sc("nzoData",e.$implicit)}function Xt(t,e){if(1&t){const t=c.Zb();c.jc(),c.Yb(0,"g",17),c.gc("nzoDragGraphStarted",(function(i){c.Bc(t);const n=e.$implicit,s=e.index;return c.kc(2).onCopyGraphDragStart(i,n,s)}))("nzoDragGraphEnded",(function(e){return c.Bc(t),c.kc(2).onCopyGraphDragEnd(e,{x:0,y:16})})),c.Xb()}2&t&&c.sc("nzoData",e.$implicit)}function Yt(t,e){if(1&t&&(c.jc(),c.Yb(0,"g",13),c.Kc(1,Ft,1,1,"g",14),c.Kc(2,Xt,1,1,"g",15),c.Xb()),2&t){const t=c.kc();c.Cb(1),c.sc("ngForOf",t.modalGraphs),c.Cb(1),c.sc("ngForOf",t.modalGraphs)}}function Ht(t,e){if(1&t&&(c.jc(),c.Tb(0,"line",18)),2&t){const t=c.kc();c.Db("x1",t.sideWidth)("x2",t.sideWidth)}}function Nt(t,e){if(1&t&&(c.jc(),c.Tb(0,"g",19)),2&t){const t=e.$implicit,i=e.index,n=c.kc();c.sc("nzoData",t)("nzoPoint",!0)("nzoDragDisabled",!n.isEditMode)("nzoSelected",n.selectedGraph===i)}}function Zt(t,e){if(1&t){const t=c.Zb();c.jc(),c.Yb(0,"g",20),c.gc("nzoDblclick",(function(e){return c.Bc(t),c.kc().onAddLabel(e)}))("nzoMousedown",(function(i){c.Bc(t);const n=e.$implicit;return c.kc().onContextLine(i,n)}))("nzoClick",(function(i){c.Bc(t);const n=e.$implicit,s=e.index;return c.kc().onSelectedLine(i,n,s)}))("nzoDragPointStarted",(function(i){c.Bc(t);const n=e.$implicit;return c.kc().onDragLinePointStart(i,n)}))("nzoDragPointEnded",(function(i){c.Bc(t);const n=e.$implicit,s=e.index;return c.kc().onDragLinePointEnd(i,n,s)})),c.Xb()}if(2&t){const t=e.$implicit,i=e.index,n=c.kc();c.sc("nzoData",t)("nzoDragDisabled",!n.isEditMode)("nzoSelected",n.selectedLine===i)}}function Wt(t,e){if(1&t){const t=c.Zb();c.jc(),c.Yb(0,"g",22),c.gc("nzoClick",(function(i){c.Bc(t);const n=e.index;return c.kc(2).onSelectedGraph(i,n)}))("nzoDblclick",(function(){c.Bc(t);const i=e.$implicit;return c.kc(2).dblclickGraph.emit(i)}))("nzoDragGraphStarted",(function(i){c.Bc(t);const n=e.$implicit,s=e.index;return c.kc(2).onDragGraphStart(i,n,s)}))("nzoDragGraphEnded",(function(i){c.Bc(t);const n=e.$implicit;return c.kc(2).onDragGraphEnd(i,n)}))("nzoDragPointStarted",(function(e){return c.Bc(t),c.kc(2).onDragGraphPointStart(e)}))("nzoDragPointMoved",(function(e){return c.Bc(t),c.kc(2).onDragGraphPointMove(e)}))("nzoDragPointEnded",(function(e){return c.Bc(t),c.kc(2).onDragGraphPointEnd(e)})),c.Xb()}if(2&t){const t=e.$implicit,i=e.index,n=c.kc(2);c.sc("nzoData",t)("nzoPoint",!0)("nzoSelected",n.selectedGraph===i)("nzoSelectedRelation",n.getRelationByGraph(n.selectedRelations,t))}}function Kt(t,e){if(1&t&&(c.jc(),c.Wb(0),c.Kc(1,Wt,1,4,"g",21),c.lc(2,"async"),c.Vb()),2&t){const t=c.kc();c.Cb(1),c.sc("ngForOf",c.mc(2,1,t.flow.graphs$))}}function Vt(t,e){if(1&t){const t=c.Zb();c.jc(),c.ic(),c.Yb(0,"nzo-contextmenu",23),c.gc("nzoDelete",(function(){return c.Bc(t),c.kc().onMenuDelete()}))("nzoCopy",(function(){return c.Bc(t),c.kc().onMenuCopy()}))("nzoPaste",(function(){return c.Bc(t),c.kc().onMenuPaste()})),c.Xb()}if(2&t){const t=c.kc();c.sc("nzoPosition",t.contextPosition)}}let qt=(()=>{class t{constructor(t,e){this.fcStore=t,this.fGraph=e,this.radius=3,this.borderWidth=1,this.fontSize=12,this.sideWidth=110,this.isEditMode=!0,this.flowChange=new c.n,this.dblclickGraph=new c.n,this.dblclickLine=new c.n,this.contextMenu=new c.n,this.appendGraph=new c.n,this.changeRelation=new c.n,this.canCopy=!1,this.modalGraphs=this.handleData([{type:ut.ellipse,text:"\u5f00\u59cb",width:68,height:30,x:20,y:0,style:{color:"#1590ff"}},{type:ut.rect,text:"\u6761\u4ef6",width:68,height:30,style:{color:"#b786ec"},x:20,y:50},{type:ut.diamond,text:"\u5224\u65ad",width:68,style:{color:"#65ddd5"},x:20,y:100}])}set mode(t){this.isEditMode="edit"===t}set nzoModelGraphs(t){this.modalGraphs=this.handleData(t)}set nzoFlowData(t){if(this.fcStore.clear(),t&&t.length>0){const e=[],i=[];t.forEach(t=>{t.type===ut.line?e.push(Object.assign(Object.assign({},t),{x:t.x2})):i.push(Object.assign(Object.assign({},t),{style:Object.assign(Object.assign({},t.style),{radius:this.radius})}))}),this.fcStore.addAllGraphs(i),this.fcStore.addAllLines(e),this.handleFlowLineRelation(e)}}ngOnChanges(t){this.flow={graphs$:this.fcStore.graphs$,lines$:this.fcStore.lines$}}ngOnInit(){}ngOnDestroy(){this.fcStore.clear()}handleData(t){return t.map(t=>this.fGraph.getGraphData(Object.assign(Object.assign({},t),{style:Object.assign(Object.assign({},t.style),{radius:this.radius})})))}handleFlowLineRelation(t){t.forEach((t,e)=>{const i=this.fcStore.findIndex(t.id1,ut.rect);this.fcStore.addRelation({lineId:t.id,linePos:"start",lineIndex:e,dir:t.dir1,graphId:t.id1,pointIndex:4*i+t.dir1});const n=this.fcStore.findIndex(t.id2,ut.rect);this.fcStore.addRelation({lineId:t.id,linePos:"end",lineIndex:e,dir:t.dir2,graphId:t.id2,pointIndex:4*n+t.dir2})})}onCopyGraphDragStart(t,e,i){this.copyIndex=i,this.copyData=e;const{x:n}=this.fGraph.getPosition(t.source);this.canCopy=n<=this.sideWidth}onCopyGraphDragEnd(t,e){const i=this.fGraph.getPosition(t.source,e);if(this.canCopy&&i.x>this.sideWidth){let t=Object.assign(Object.assign({},this.copyData),i);t=this.graphCalibAlign(t),this.appendGraph.emit(Object.assign({},t))}this.flowChange.emit(),t.source.reset(),this.copyIndex=null,this.copyData=null}onDragGraphStart(t,e,i){this.moveIndex=i;const{x:n}=this.fGraph.getPosition(t.source);this.canCopy=n<=this.sideWidth}onDragGraphEnd(t,e){const i=this.fGraph.getPosition(t.source);this.moveIndex=null,this.flowChange.emit();const n=this.graphCalibAlign(Object.assign(Object.assign({},e),i));this.setRelationLineByGraph(n)}setRelationLineByGraph(t){const e=this.fcStore.getRelations(e=>e.graphId===t.id);e.length>0&&e.forEach(t=>{const e=this.fcStore.find(t.lineId,ut.line),i=this.fcStore.getPoint(t.pointIndex);this.setLine(e,i,t.linePos,t.dir)})}graphCalibAlign(t){let e=!1;const i=this.fcStore.getAllGraphs();for(const n of i)if(t.id!==n.id){if(n.x+5>t.x&&n.x-5<t.x)return t.x=n.x,e=!0,this.setStoreData(t),t;if(n.y+5>t.y&&n.y-5<t.y)return t.y=n.y,e=!0,this.setStoreData(t),t}return e||this.setStoreData(t),t}setStoreData(t){const e=this.fcStore.findIndex(t.id,t.type);e>-1?this.fcStore.set(e,t):this.fcStore.add(t)}onDragLinePointStart(t,e){const i=this.fcStore.findRelationIndex(i=>i.lineId===e.id&&i.linePos===t.linePos);i>-1&&this.fcStore.removeRelation(i)}onDragLinePointEnd(t,e,i){const n=this.fGraph.getPosition(t.source);this.flowChange.emit(),this.setRelation(n,e,i,t.linePos,!0)}onDragGraphPointStart(t){this.selectedLine=null,this.linePrePos=this.lineStartPos=this.fGraph.getPosition(t.source.element.nativeElement.parentElement.parentElement);const e=this.fcStore.add(this.fGraph.drawLine({x1:t.data.x+this.lineStartPos.x,y1:t.data.y+this.lineStartPos.y,x2:t.data.x+this.lineStartPos.x,y2:t.data.y+this.lineStartPos.y,dir1:t.data.direction,dir2:(t.data.direction+2)%4,type:ut.line}));this.lineIndex=this.fcStore.findIndex(e.id,e.type)}onDragGraphPointEnd(t){const e=this.fcStore.get(this.lineIndex,ut.line);let i=this.fGraph.getPosition(t.source,this.lineStartPos);const n=this.setRelation(i,e,this.lineIndex,"end",!0);n&&(e.dir2=n?n.dir:e.dir2,this.setLine(e,n.point)),this.flowChange.emit(),t.source.reset(),i=this.fGraph.getPosition(t.source,this.lineStartPos),this.setRelation(i,e,this.lineIndex,"start"),this.lineStartPos=null,this.lineIndex=null}onDragGraphPointMove(t){const e=this.fGraph.getPosition(t.source,this.lineStartPos),i=this.fcStore.get(this.lineIndex,ut.line);this.setLine(i,e)}setLine(t,e,i="end",n){if("end"===i){t.x2=e.x,t.y2=e.y;const i=this.fGraph.getGraphData(Object.assign(Object.assign({},t),{x2:e.x,y2:e.y,dir2:n||t.dir2}));t.x=i.x,t.y=i.y,t.data=i.data,this.linePrePos=e}else if("start"===i){const i=n||this.fGraph.getDirection(this.linePrePos,e);t.x1=e.x,t.y1=e.y;const s=this.fGraph.getGraphData(Object.assign(Object.assign({},t),{dir1:i||t.dir1,dir2:t.dir2||(i+2)%4,x1:e.x,y1:e.y}));t.x=s.x,t.y=s.y,t.data=s.data}}getGraphDirPoint(t,e){if(t)switch("diamond"===t.type&&(t.height=this.fGraph.getDiamondHeight(t.width)),e){case ft.bottom:return{x:t.x+t.width/2+1,y:t.y+t.height+1};case ft.left:return{x:t.x+1,y:t.y+t.height/2+1};case ft.right:return{x:t.x+t.width+1,y:t.y+t.height/2+1};case ft.top:return{x:t.x+t.width/2+1,y:t.y+1}}}onSelectedGraph(t,e){this.selectedGraph=e}setRelation(t,e,i,n,s=!1){const o=this.fcStore.findPoint(t);if(o)return this.fcStore.addRelation({graphId:o.graph.id,dir:o.dir,lineId:e.id,linePos:n,lineIndex:i,pointIndex:o.pointIndex}),s&&(e["end"===n?"dir2":"dir1"]=o?o.dir:o["end"===n?"dir2":"dir1"],this.setLine(e,o.point,n)),this.changeRelation.emit("start"===n?[o.graph,e]:[e,o.graph]),o;{const t=this.fGraph.getLabelCenterPosition(e);e.x=t.x,e.y=t.y}}onSelectedLine(t,e,i){this.selectedLine=i,this.menuSelectedGraph=e,this.selectedRelations=this.fcStore.getRelations(t=>t.lineId===e.id)}onClickCvs(t){2!==t.button&&(this.selectedGraph=null,this.selectedLine=null,this.selectedRelations=null,this.menuSelectedGraph=null)}getRelationByGraph(t,e){return t?t.find(t=>t.graphId===e.id):null}onContextmenu(t){if(t.preventDefault(),2===t.button&&t.offsetX>this.sideWidth){const e=this.fcStore.findGraphByPoint({x:t.offsetX,y:t.offsetY});this.menuSelectedGraph=e||this.menuSelectedGraph,this.contextMenu.emit(t),this.contextPosition={x:t.clientX,y:t.clientY}}}onMenuDelete(t=this.menuSelectedGraph){t&&(this.fcStore.delete(t),this.flowChange.emit())}getLine(t){return this.fcStore.find(t,ut.line)}getGraph(t){return this.fcStore.find(t)}getAllGraphs(){return this.fcStore.getAllGraphs()}getAllLines(){return this.fcStore.getAllLines()}setGraphData(t){this.fcStore.update(t)}onMenuCopy(){this.clipboard=Object.assign({},this.menuSelectedGraph)}onMenuPaste(){if(this.clipboard){const t=this.clipboard;(t.x||t.y)&&(t.x=t.x+20,t.y=t.y+20),(t.x1||t.y1)&&(t.x1=t.x1+20,t.y1=t.y1+20,t.x2=t.x2+20,t.y2=t.y2+20),this.flowChange.emit(),this.fcStore.add(Object.assign({},t))}}onAddLabel(t){this.flowChange.emit(),this.dblclickLine.emit(this.menuSelectedGraph)}onContextLine(t,e){2===t.button&&(this.menuSelectedGraph=e)}}return t.\u0275fac=function(e){return new(e||t)(c.Sb(yt),c.Sb(_t))},t.\u0275cmp=c.Mb({type:t,selectors:[["nzo-flowchart"]],viewQuery:function(t,e){var i;1&t&&(c.Rc(At,!0),c.Rc(ot,!0)),2&t&&(c.yc(i=c.hc())&&(e.rootCvs=i.first),c.yc(i=c.hc())&&(e.cdkDrags=i))},inputs:{radius:["nzoRadius","radius"],borderWidth:["nzoBorderWidth","borderWidth"],fontSize:["nzoFontSize","fontSize"],sideWidth:["nzoSideWidth","sideWidth"],header:["nzoHeader","header"],mode:["nzoMode","mode"],nzoModelGraphs:"nzoModelGraphs",nzoFlowData:"nzoFlowData"},outputs:{flowChange:"nzoFlowChange",dblclickGraph:"nzoGraphDblclick",dblclickLine:"nzoLineDblclick",contextMenu:"nzoContextMenu",appendGraph:"nzoAppendGraph",changeRelation:"nzoChangeRelation"},features:[c.Ab],decls:16,vars:11,consts:[[1,"nzo-fc-header"],[4,"ngTemplateOutlet"],[1,"nzo-fc-container",3,"mousedown","contextmenu"],["width","100%",0,"xmlns","svg","http://www.w3.org/1999/XSL/Transform","xmlns","http://www.w3.org/2000/svg","height","100%"],["rootCvs",""],["id","markerArrow","markerWidth","8","markerHeight","8","refX","8","refY","4","orient","auto"],["d","M0,0A5,8,0,0,1,0,8L8,4z",2,"fill","#455ff7"],["transform","translate(0, 16)",4,"ngIf"],["y1","0","y2","100%","stroke","#e6e9ed","stroke-width","1",4,"ngIf"],["nzo-graph","",3,"nzoData","nzoPoint","nzoDragDisabled","nzoSelected",4,"ngFor","ngForOf"],["nzo-line","",3,"nzoData","nzoDragDisabled","nzoSelected","nzoDblclick","nzoMousedown","nzoClick","nzoDragPointStarted","nzoDragPointEnded",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"nzoPosition","nzoDelete","nzoCopy","nzoPaste",4,"ngIf"],["transform","translate(0, 16)"],["nzo-graph","",3,"nzoData",4,"ngFor","ngForOf"],["nzo-graph-shadow","",3,"nzoData","nzoDragGraphStarted","nzoDragGraphEnded",4,"ngFor","ngForOf"],["nzo-graph","",3,"nzoData"],["nzo-graph-shadow","",3,"nzoData","nzoDragGraphStarted","nzoDragGraphEnded"],["y1","0","y2","100%","stroke","#e6e9ed","stroke-width","1"],["nzo-graph","",3,"nzoData","nzoPoint","nzoDragDisabled","nzoSelected"],["nzo-line","",3,"nzoData","nzoDragDisabled","nzoSelected","nzoDblclick","nzoMousedown","nzoClick","nzoDragPointStarted","nzoDragPointEnded"],["nzo-graph-shadow","",3,"nzoData","nzoPoint","nzoSelected","nzoSelectedRelation","nzoClick","nzoDblclick","nzoDragGraphStarted","nzoDragGraphEnded","nzoDragPointStarted","nzoDragPointMoved","nzoDragPointEnded",4,"ngFor","ngForOf"],["nzo-graph-shadow","",3,"nzoData","nzoPoint","nzoSelected","nzoSelectedRelation","nzoClick","nzoDblclick","nzoDragGraphStarted","nzoDragGraphEnded","nzoDragPointStarted","nzoDragPointMoved","nzoDragPointEnded"],[3,"nzoPosition","nzoDelete","nzoCopy","nzoPaste"]],template:function(t,e){1&t&&(c.Yb(0,"div",0),c.Kc(1,Bt,1,0,"ng-container",1),c.Xb(),c.Yb(2,"div",2),c.gc("mousedown",(function(t){return e.onClickCvs(t)}))("contextmenu",(function(t){return e.onContextmenu(t)})),c.jc(),c.Yb(3,"svg",3,4),c.Yb(5,"defs"),c.Yb(6,"marker",5),c.Tb(7,"path",6),c.Xb(),c.Xb(),c.Kc(8,Yt,3,2,"g",7),c.Kc(9,Ht,1,2,"line",8),c.Kc(10,Nt,1,4,"g",9),c.lc(11,"async"),c.Kc(12,Zt,1,3,"g",10),c.lc(13,"async"),c.Kc(14,Kt,3,3,"ng-container",11),c.Xb(),c.Xb(),c.Kc(15,Vt,1,1,"nzo-contextmenu",12)),2&t&&(c.Cb(1),c.sc("ngTemplateOutlet",e.header),c.Cb(7),c.sc("ngIf",e.isEditMode),c.Cb(1),c.sc("ngIf",e.isEditMode),c.Cb(1),c.sc("ngForOf",c.mc(11,7,e.flow.graphs$)),c.Cb(2),c.sc("ngForOf",c.mc(13,9,e.flow.lines$)),c.Cb(2),c.sc("ngIf",e.isEditMode),c.Cb(1),c.sc("ngIf",e.isEditMode))},directives:[n.A,n.t,n.s,Ct,jt,zt,$t],pipes:[n.b],styles:[".nzo-fc-header{min-height:48px;border-bottom:1px solid #e6e9ed}.nzo-fc-container{width:100%;height:600px;display:flex;border-bottom:1px solid #e6e9ed}.nzo-fc-container .nzo-fc-panel{width:15%;background-color:#fff;display:flex;justify-content:center;border-radius:4px;box-shadow:2px 0 8px rgba(0,0,0,.15)}.nzo-fc-container .nzo-fc-rect-box{cursor:-webkit-grab;cursor:grab}.nzo-fc-container .nzo-fc-rect-box:hover .nzo-fc-connect-point{display:inline-block}.nzo-fc-container circle{cursor:crosshair}.nzo-fc-container .nzo-fc-canvas{width:85%}.nzo-fc-container svg text{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.nzo-fc-container .nzo-fc-drag{position:relative;z-index:1}.nzo-fc-container .nzo-fc-point{display:none}.nzo-fc-container .nzo-fc-point .active{display:inline-block}.nzo-fc-container .nzo-fc-connect-point{display:none}.nzo-fc-container .nzo-fc-line{cursor:pointer}.nzo-fc-container .nzo-fc-line:hover .nzo-fc-connect-point{display:inline-block}.nzo-fc-container .nzo-fc-line circle{position:relative;z-index:1}.nzo-fc-container ::ng-deep .cdk-drag-placeholder{opacity:0}.nzo-fc-container ::ng-deep .cdk-drag-animating,.nzo-fc-container ::ng-deep .cdk-drop-list-dragging .nzo-fc-drag:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}"],encapsulation:2}),t})();const Ut=[yt,_t];let Jt=(()=>{class t{}return t.\u0275mod=c.Qb({type:t}),t.\u0275inj=c.Pb({factory:function(e){return new(e||t)},providers:[Ut],imports:[[n.c,at]]}),t})();var Qt=i("He08"),te=i("dNxI"),ee=i("9QfB");const ie=[{path:"",pathMatch:"full",redirectTo:"flow"},{path:"flow",component:(()=>{class t{constructor(){}ngOnInit(){this.graphs=[{type:ut.ellipse,text:"\u5f00\u59cb",width:68,height:30,style:{color:"#1590ff"},params:{},x:20},{type:ut.ellipse,text:"\u7ed3\u675f",width:68,height:30,style:{color:"#1590ff"},params:{},x:20,y:50},{type:ut.rect,text:"\u6570\u636e",width:68,height:30,style:{color:"#65ddd5"},params:{},x:20,y:100},{type:ut.rect,text:"\u7c7b\u578b",width:68,height:30,style:{color:"#b786ec"},params:{},x:20,y:150},{type:ut.rect,text:"\u53c2\u6570",width:68,height:30,style:{color:"#faad14"},params:{},x:20,y:200},{type:ut.diamond,text:"\u5224\u65ad",width:68,style:{color:"#777"},params:{},x:20,y:250}]}svgCanvas(){}generate(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Mb({type:t,selectors:[["nzo-flow"]],decls:4,vars:1,consts:[["title","\u6d41\u7a0b\u7f16\u8f91\u5668"],[3,"nzoModelGraphs"]],template:function(t,e){1&t&&(c.Yb(0,"nzo-page-layout"),c.Tb(1,"nzo-page-header",0),c.Yb(2,"nzo-page-content"),c.Tb(3,"nzo-flowchart",1),c.Xb(),c.Xb()),2&t&&(c.Cb(3),c.sc("nzoModelGraphs",e.graphs))},directives:[Qt.a,te.a,ee.a,qt],styles:["nzo-flowchart[_ngcontent-%COMP%]{display:block;margin:-24px}.drag-box[_ngcontent-%COMP%]{width:50px;height:50px;background-color:#eee;box-shadow:1px 0 3px #aaa}"]}),t})()},{path:"mind",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Mb({type:t,selectors:[["nzo-mind"]],decls:2,vars:0,template:function(t,e){1&t&&(c.Yb(0,"p"),c.Mc(1," mind works!\n"),c.Xb())},styles:[""]}),t})()}];let ne=(()=>{class t{}return t.\u0275mod=c.Qb({type:t}),t.\u0275inj=c.Pb({factory:function(e){return new(e||t)},imports:[[s.h.forChild(ie)],s.h]}),t})();var se=i("PCNd");let oe=(()=>{class t{}return t.\u0275mod=c.Qb({type:t}),t.\u0275inj=c.Pb({factory:function(e){return new(e||t)},imports:[[n.c,ne,se.a,at,Jt]]}),t})()}}]);